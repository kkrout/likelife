<template>
    <div>
        <el-form ref="form1" :model="form" label-width="80px" size="mini" :inline="true" style="margin-top: 15px">
            <el-form-item label="字段:">
                <el-input placeholder="字段" size="mini" v-model="form.field" style="width: 150px"/>
            </el-form-item>
            <el-form-item label="字段名称:">
                <el-input placeholder="字段名称" size="mini" v-model="form.fieldName" style="width: 150px"/>
            </el-form-item>
            <span style="float: right">
                        <el-button type="primary" size="mini" @click="find">查询</el-button>
                        <el-button type="primary" size="mini" @click="insertData">新增数据</el-button>
             </span>
        </el-form>
        <el-table
                :data="tableData"
                border
                size="mini"
                style="width: 100%">
            <el-table-column
                    align="center"
                    type="index"
                    width="50">
            </el-table-column>
            <el-table-column
                    prop="field"
                    label="字段"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="fieldName"
                    label="字段名称"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="desc"
                    label="描述">
            </el-table-column>

            <el-table-column
                    fixed="right"
                    label="操作"
                    width="100">
                <template slot-scope="scope">
                    <el-button  @click="updateClick(scope.row)" type="text" size="small">编辑</el-button>
                    <el-button @click="deleteClick(scope.row)" type="text" size="small">删除</el-button>
                </template>
            </el-table-column>
        </el-table>
                <el-pagination
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange"
                        current-page="[10, 20, 50, 100]"
                        page-size="10"
                        layout="total, sizes, prev, pager, next, jumper"
                        :total="totals">
                </el-pagination>
        <el-dialog
                title="新增"
                :visible.sync="addModule"
                center
                width="50%">
            <span>

                <el-form :model="addForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
                  <el-form-item label="字段" prop="field">
                    <el-input size="samll" v-model="addForm.field"></el-input>
                  </el-form-item>

                  <el-form-item label="字段名称" prop="fieldName">
                    <el-input size="samll" v-model="addForm.fieldName"></el-input>
                  </el-form-item>
                  <el-form-item label="字段描述" prop="desc">
                    <el-input size="samll" type="textarea"  v-model="addForm.desc"></el-input>
                  </el-form-item>
                </el-form>
            </span>
            <span slot="footer" class="dialog-footer">
    <el-button size="samll" @click="addModule = false">取 消</el-button>
    <el-button size="samll" type="primary" @click="addButton">保 存</el-button>
  </span>
        </el-dialog>

        <el-dialog
                title="编辑"
                :visible.sync="updateModule"
                center
                width="50%">
            <span>

                <el-form :model="updateForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
                  <el-form-item label="字段" prop="field">
                    <el-input size="samll" v-model="updateForm.field"></el-input>
                  </el-form-item>

                  <el-form-item label="字段名称" prop="fieldName">
                    <el-input size="samll" v-model="updateForm.fieldName"></el-input>
                  </el-form-item>
                  <el-form-item label="字段描述" prop="desc">
                    <el-input size="samll" type="textarea"  v-model="updateForm.desc"></el-input>
                  </el-form-item>
                </el-form>
            </span>
            <span slot="footer" class="dialog-footer">
    <el-button size="samll" @click="updateModule = false">取 消</el-button>
    <el-button size="samll" type="primary" @click="updateButton">保 存</el-button>
  </span>
        </el-dialog>
    </div>
</template>
<script type="text/javascript" src="pages/data_dictionary/data_dictionary.js"></script>